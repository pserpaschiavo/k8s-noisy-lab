[2025-05-10 01:11:52] Iniciando experimento: new-test-1
[2025-05-10 01:11:52] Log sendo salvo em: /home/phil/Projects/k8s-noisy-lab/results/2025-05-10/01-11-52/new-test-1/experiment.log
[2025-05-10 01:11:52] Verificando pr√©-requisitos...
[2025-05-10 01:11:52] M√©tricas ser√£o salvas em: /home/phil/Projects/k8s-noisy-lab/results/2025-05-10/01-11-52/new-test-1
[2025-05-10 01:11:52] Validando recursos do cluster...
[0;35m==========================================[0m
[0;35m     VERIFICA√á√ÉO PR√â-EXPERIMENTO         [0m
[0;35m==========================================[0m
[0;35mVerificando conectividade com o cluster...[0m
[0;32m‚úì Conex√£o com o cluster estabelecida com sucesso[0m
[0;35mVerificando estado dos n√≥s do cluster...[0m
[0;32m‚úì O cluster possui 1 n√≥s dispon√≠veis[0m
[0;35mVerificando recursos dispon√≠veis no cluster...[0m
CPU: [0;35m11600[0m cores
Mem√≥ria: [0;35m30.73[0m GB
[0;32m‚úì Recursos do cluster s√£o suficientes para o experimento[0m
[0;35mVerificando namespaces necess√°rias...[0m
[0;32m‚úì Namespace 'tenant-a' encontrada[0m
[0;32m‚úì Namespace 'tenant-b' encontrada[0m
[0;32m‚úì Namespace 'tenant-c' encontrada[0m
[0;32m‚úì Namespace 'monitoring' encontrada[0m
[0;35mVerificando disponibilidade do Prometheus...[0m
[0;32m‚úì Prometheus est√° rodando e pronto[0m
[0;35mVerificando disponibilidade das m√©tricas essenciais...[0m
[0;32m‚úì M√©trica 'container_cpu_usage_seconds_total' dispon√≠vel[0m
[0;32m‚úì M√©trica 'container_memory_working_set_bytes' dispon√≠vel[0m
[0;32m‚úì M√©trica 'container_network_receive_bytes_total' dispon√≠vel[0m
[0;32m‚úì M√©trica 'container_network_transmit_bytes_total' dispon√≠vel[0m
[0;32m‚úì M√©trica 'container_cpu_cfs_throttled_periods_total' dispon√≠vel[0m
[0;32m‚úì M√©trica 'container_cpu_cfs_periods_total' dispon√≠vel[0m
[0;35mVerificando permiss√µes necess√°rias...[0m
[0;35mVerificando CRDs do Prometheus Operator...[0m
[0;32m‚úì CRD 'servicemonitors.monitoring.coreos.com' encontrada[0m
[0;32m‚úì CRD 'prometheusrules.monitoring.coreos.com' encontrada[0m
[0;35m==========================================[0m
[0;32m‚úì Cluster validado com sucesso para o experimento[0m
[0;35m==========================================[0m

Informa√ß√µes adicionais:
- O experimento utiliza m√©tricas da cAdvisor integradas ao kubelet
- As queries do Prometheus usam principalmente m√©tricas rate() com 1m de janela
- Os workloads s√£o distribu√≠dos em 3 tenants para simular o cen√°rio de noisy neighbour

Recomenda√ß√µes finais:
- Certifique-se de ter pelo menos 15-20% de recursos livres al√©m dos solicitados
- Se estiver usando Minikube, use a op√ß√£o '--driver=docker' para melhor desempenho
- Verifique se n√£o h√° outros processos consumindo recursos significativos nos n√≥s
[2025-05-10 01:11:56] Criando namespaces...
resourcequota/tenant-a-quota created
resourcequota/tenant-b-quota created
resourcequota/tenant-c-quota created
Warning: resource namespaces/tenant-a is missing the kubectl.kubernetes.io/last-applied-configuration annotation which is required by kubectl apply. kubectl apply should only be used on resources created declaratively by either kubectl create --save-config or kubectl apply. The missing annotation will be patched automatically.
namespace/tenant-a configured
Warning: resource namespaces/tenant-b is missing the kubectl.kubernetes.io/last-applied-configuration annotation which is required by kubectl apply. kubectl apply should only be used on resources created declaratively by either kubectl create --save-config or kubectl apply. The missing annotation will be patched automatically.
namespace/tenant-b configured
Warning: resource namespaces/tenant-c is missing the kubectl.kubernetes.io/last-applied-configuration annotation which is required by kubectl apply. kubectl apply should only be used on resources created declaratively by either kubectl create --save-config or kubectl apply. The missing annotation will be patched automatically.
namespace/tenant-c configured
[2025-05-10 01:11:57] Aplicando resource quotas...
resourcequota/tenant-a-quota unchanged
resourcequota/tenant-b-quota unchanged
resourcequota/tenant-c-quota unchanged
[2025-05-10 01:11:57] Stack de observabilidade j√° instalada.
[2025-05-10 01:11:57] Aguardando inicializa√ß√£o do Prometheus...
pod/prometheus-prometheus-kube-prometheus-prometheus-0 condition met
[2025-05-10 01:11:57] Adicionando deployment do blackbox-exporter...
[2025-05-10 01:11:57] ======= IN√çCIO DO EXPERIMENTO: new-test-1 =======
[2025-05-10 01:11:57] Data: 2025/05/10, Hora: 01:11:52
[2025-05-10 01:11:57] N√∫mero de rounds: 2
[2025-05-10 01:11:57] Dura√ß√£o das fases: Baseline=60s, Ataque=30s, Recupera√ß√£o=30s
[2025-05-10 01:11:57] ===== ROUND 1/2 =====
[2025-05-10 01:11:57] === Fase 1 - Baseline ===
[2025-05-10 01:11:57] Coleta de m√©tricas iniciada com PID: 743697
[2025-05-10 01:11:57] Iniciando coleta de m√©tricas para fase: 1 - Baseline (Round 1)
[2025-05-10 01:11:57] Limpando workloads anteriores...
[2025-05-10 01:12:07] Iniciando fase: 1 - Baseline (dura√ß√£o m√°xima: 60s)
[2025-05-10 01:12:07] Implantando tenant-a (refer√™ncia)...
deployment.apps/nginx-deployment created
service/nginx created
job.batch/nginx-benchmark created
[2025-05-10 01:12:07] Aguardando inicializa√ß√£o dos servi√ßos do tenant-a...
Error from server (NotFound): deployments.apps "iperf-server" not found
[2025-05-10 01:12:07] Timeout aguardando pelo iperf-server
[2025-05-10 01:12:07] Implantando tenant-c (v√≠tima)...
deployment.apps/redis-deployment created
job.batch/redis-benchmark created
[2025-05-10 01:12:07] Aguardando inicializa√ß√£o dos workloads do tenant-c...
[2025-05-10 01:13:23] Fase 1 - Baseline conclu√≠da
[2025-05-10 01:13:23] Interrompendo coleta de m√©tricas (PID: 743697)...
[2025-05-10 01:13:23] Coleta de m√©tricas finalizada.
[2025-05-10 01:13:23] === Fase 2 - Attack ===
[2025-05-10 01:13:23] Coleta de m√©tricas iniciada com PID: 748189
[2025-05-10 01:13:23] Iniciando coleta de m√©tricas para fase: 2 - Attack (Round 1)
[2025-05-10 01:13:23] Iniciando fase: 2 - Attack (dura√ß√£o m√°xima: 30s)
[2025-05-10 01:13:23] Implantando tenant-b (noisy neighbour)...
deployment.apps/multi-resource-stress created
[2025-05-10 01:13:23] Aguardando inicializa√ß√£o dos workloads do tenant-b...
[2025-05-10 01:14:09] Fase 2 - Attack conclu√≠da
[2025-05-10 01:14:09] Interrompendo coleta de m√©tricas (PID: 748189)...
[2025-05-10 01:14:09] Coleta de m√©tricas finalizada.
[2025-05-10 01:14:09] === Fase 3 - Recovery ===
[2025-05-10 01:14:09] Coleta de m√©tricas iniciada com PID: 751208
[2025-05-10 01:14:09] Iniciando coleta de m√©tricas para fase: 3 - Recovery (Round 1)
[2025-05-10 01:14:09] Iniciando fase: 3 - Recovery (dura√ß√£o m√°xima: 30s)
[2025-05-10 01:14:09] Removendo tenant-b (noisy neighbour)...
deployment.apps "multi-resource-stress" deleted
[2025-05-10 01:14:09] Aguardando remo√ß√£o completa do tenant-b...
[2025-05-10 01:14:54] Fase 3 - Recovery conclu√≠da
[2025-05-10 01:14:54] Interrompendo coleta de m√©tricas (PID: 751208)...
[2025-05-10 01:14:54] Coleta de m√©tricas finalizada.
[2025-05-10 01:14:54] Round 1/2 conclu√≠do com sucesso!
[2025-05-10 01:14:54] ===== ROUND 2/2 =====
[2025-05-10 01:14:54] === Fase 1 - Baseline ===
[2025-05-10 01:14:54] Coleta de m√©tricas iniciada com PID: 754005
[2025-05-10 01:14:54] Iniciando coleta de m√©tricas para fase: 1 - Baseline (Round 2)
[2025-05-10 01:14:54] Iniciando fase: 1 - Baseline (dura√ß√£o m√°xima: 60s)
[2025-05-10 01:14:54] Implantando tenant-a (refer√™ncia)...
deployment.apps/nginx-deployment unchanged
service/nginx unchanged
job.batch/nginx-benchmark unchanged
[2025-05-10 01:14:55] Aguardando inicializa√ß√£o dos servi√ßos do tenant-a...
Error from server (NotFound): deployments.apps "iperf-server" not found
[2025-05-10 01:14:55] Timeout aguardando pelo iperf-server
[2025-05-10 01:14:55] Implantando tenant-c (v√≠tima)...
deployment.apps/redis-deployment unchanged
job.batch/redis-benchmark unchanged
[2025-05-10 01:14:55] Aguardando inicializa√ß√£o dos workloads do tenant-c...
[2025-05-10 01:16:11] Fase 1 - Baseline conclu√≠da
[2025-05-10 01:16:11] Interrompendo coleta de m√©tricas (PID: 754005)...
[2025-05-10 01:16:11] Coleta de m√©tricas finalizada.
[2025-05-10 01:16:11] === Fase 2 - Attack ===
[2025-05-10 01:16:11] Coleta de m√©tricas iniciada com PID: 757824
[2025-05-10 01:16:11] Iniciando coleta de m√©tricas para fase: 2 - Attack (Round 2)
[2025-05-10 01:16:11] Iniciando fase: 2 - Attack (dura√ß√£o m√°xima: 30s)
[2025-05-10 01:16:11] Implantando tenant-b (noisy neighbour)...
deployment.apps/multi-resource-stress created
[2025-05-10 01:16:11] Aguardando inicializa√ß√£o dos workloads do tenant-b...
[2025-05-10 01:16:57] Fase 2 - Attack conclu√≠da
[2025-05-10 01:16:57] Interrompendo coleta de m√©tricas (PID: 757824)...
[2025-05-10 01:16:57] Coleta de m√©tricas finalizada.
[2025-05-10 01:16:57] === Fase 3 - Recovery ===
[2025-05-10 01:16:57] Coleta de m√©tricas iniciada com PID: 761210
[2025-05-10 01:16:57] Iniciando coleta de m√©tricas para fase: 3 - Recovery (Round 2)
[2025-05-10 01:16:57] Iniciando fase: 3 - Recovery (dura√ß√£o m√°xima: 30s)
[2025-05-10 01:16:57] Removendo tenant-b (noisy neighbour)...
deployment.apps "multi-resource-stress" deleted
[2025-05-10 01:16:57] Aguardando remo√ß√£o completa do tenant-b...
[2025-05-10 01:17:42] Fase 3 - Recovery conclu√≠da
[2025-05-10 01:17:42] Interrompendo coleta de m√©tricas (PID: 761210)...
[2025-05-10 01:17:42] Coleta de m√©tricas finalizada.
[2025-05-10 01:17:42] Round 2/2 conclu√≠do com sucesso!
[2025-05-10 01:17:42] ======= EXPERIMENTO CONCLU√çDO =======
[2025-05-10 01:17:42] Data/hora de in√≠cio: 2025/05/10 01:11:52
[2025-05-10 01:17:42] Data/hora de t√©rmino: 2025/05/10 01:17:42
[2025-05-10 01:17:42] Dura√ß√£o total: 345 segundos (5 minutos)
[2025-05-10 01:17:42] M√©tricas e logs salvos em: /home/phil/Projects/k8s-noisy-lab/results/2025-05-10/01-11-52/new-test-1
[2025-05-10 01:17:42] Para visualizar os resultados no Grafana:
[2025-05-10 01:17:42] kubectl -n monitoring port-forward svc/prometheus-grafana 3000:80
[2025-05-10 01:17:42] Abra seu navegador em http://localhost:3000 (usu√°rio: admin, senha: admin)
